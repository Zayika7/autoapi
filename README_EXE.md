# 豆包测试用例生成器 - EXE打包说明

## 🚀 快速生成EXE文件

### 方法1：使用批处理文件（推荐）
1. 双击运行 `smart_build.bat`
2. 等待自动安装依赖和打包完成
3. 在 `dist` 目录中找到生成的exe文件

### 方法2：手动执行命令
```bash
# 1. 安装PyInstaller
pip install pyinstaller

# 2. 执行打包命令
pyinstaller --onefile --windowed --name="豆包测试用例生成器" doubao_gui.py
```

## 📁 生成的文件结构
```
dist/
└── 豆包测试用例生成器.exe    # 可执行文件
```

## ✨ 新功能特性

### 🎯 文件选择功能
- **动态选择测试数据文件**：不再硬编码文件路径
- **文件格式验证**：自动检测JSON文件格式和数据条数
- **状态显示**：实时显示文件状态（有效/无效/不存在）
- **支持相对路径和绝对路径**

### 🔧 使用方法
1. **运行exe文件**：双击生成的exe文件
2. **配置参数**：
   - 输入豆包API密钥
   - 选择模型名称
   - 选择测试数据文件（点击"选择文件"按钮）
3. **生成测试用例**：点击"生成"按钮
4. **浏览用例**：使用导航按钮查看不同用例

## ⚠️ 注意事项

### 1. 依赖要求
- Python 3.7+
- 已安装的包：`requests`, `openai`
- 系统支持：Windows 10/11

### 2. 文件包含
- 主程序：`doubao_gui.py`
- 豆包模块：`doubao.py`
- **不再需要硬编码数据文件路径**

### 3. 打包选项说明
- `--onefile`: 生成单个exe文件
- `--windowed`: 不显示控制台窗口
- **移除了 `--add-data` 参数**：现在支持用户选择文件

## 🔧 故障排除

### 问题1：打包失败
```bash
# 清理缓存后重试
rmdir /s build
rmdir /s dist
del *.spec
# 然后重新运行打包命令
```

### 问题2：运行时缺少模块
```bash
# 确保所有依赖都已安装
pip install requests openai
```

### 问题3：exe文件过大
```bash
# 使用--onedir替代--onefile生成文件夹形式
pyinstaller --onedir --windowed --name="豆包测试用例生成器" ...
```

## 🎯 功能特性

- ✅ 支持豆包API调用
- ✅ 动态配置模型和API密钥
- ✅ **动态选择测试数据文件**
- ✅ 文件格式自动验证
- ✅ 异步生成，不卡死界面
- ✅ 复制功能，方便使用
- ✅ 导航支持，浏览所有用例
- ✅ 实时状态显示

## 📱 使用流程

1. **启动程序**：双击exe文件
2. **配置API**：输入豆包API密钥和模型名称
3. **选择数据文件**：点击"选择文件"按钮，选择JSON格式的测试数据文件
4. **输入接口路径**：输入要测试的API路径
5. **生成用例**：点击"生成"按钮
6. **浏览结果**：使用导航按钮查看生成的测试用例

## 📞 技术支持

如果遇到问题，请检查：
1. Python版本是否兼容
2. 依赖包是否正确安装
3. 网络连接是否正常
4. 豆包API密钥是否有效
5. 测试数据文件是否为有效的JSON格式

## 🔄 更新说明

### v2.0 新功能
- 添加了文件选择功能
- 移除了硬编码文件路径
- 增强了文件格式验证
- 改进了用户体验
- 支持更灵活的文件管理 